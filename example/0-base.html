<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="-1" />
<meta http-equiv="Cache-Control" content="no-cache" />


<title>ProcessQ Test</title>


<script src="../ProcessQ.js"></script>


<script>

var queue=new ProcessQ({

    // run every process delay "defaultDelay" ms ,default : 0 ,
    defaultDelay : 20 , 
    items : [

        {
            // default : "id_"+(index+1) in items
            id : "fn_1",  
            type : "fn",
            // the process's percent of Total is weight/totalWeight ,
            // default weight : 1
            weight : 3 ,  
            fn:function(){ console.log("run "+this.id+" process.") }

        },
        { type : "img" , id : "ha-1", src:"./res/ha-1.png"},

        {
            //run this process delay 6ms, default:queue.defaultDelay 
            delay : 6 ,  
            type : "fn",

            fn:function(){ console.log("run "+this.id+" process.") }
        },

        //whitout ext-filename. the loader will detect which type can play
        { type : "audio" , weight : 4 , id : "bgm-1", src:"./res/bgm-1"},
    ],
    onProgressing : function(deltaTime,queue){
        console.log( "progressing" , queue.finishedWeight," of ",queue.totalWeight);
    },
    onFinish : function(queue){
        console.log("finished : " , queue.finishedCount );
    }
});
queue.init();
queue.start();



</script>
<style type="text/css">

</style>
</head>

<body >
please open the console

</body>

</html>


